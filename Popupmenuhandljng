private fun showDeviceMenu(device: Device, anchor: View) {
    val popup = PopupMenu(this, anchor)
    popup.menuInflater.inflate(R.menu.menu_device_card, popup.menu)
    popup.setOnMenuItemClickListener {
        when (it.itemId) {
            R.id.action_modify_limits -> {
                Toast.makeText(this, "Modify Limits: ${device.title}", Toast.LENGTH_SHORT).show()
                true
            }
            R.id.action_txn_history -> {
                val intent = Intent(this, TransactionHistoryActivity::class.java)
                intent.putExtra("device_id", device.id)
                startActivity(intent)
                true
            }
            R.id.action_deregister -> {
                Toast.makeText(this, "Deregister: ${device.title}", Toast.LENGTH_SHORT).show()
                true
            }
            else -> false
        }
    }
    popup.show()
}
